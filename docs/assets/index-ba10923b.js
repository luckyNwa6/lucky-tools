import{r as v,w as C,a as _,o as x,c as E,b as i,d as p,e as y,E as D,u as m,i as w,f as h,g,h as R,j as k,k as U}from"./index-fdd5459f.js";var A=function(){var a=document.getSelection();if(!a.rangeCount)return function(){};for(var e=document.activeElement,o=[],u=0;u<a.rangeCount;u++)o.push(a.getRangeAt(u));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return a.removeAllRanges(),function(){a.type==="Caret"&&a.removeAllRanges(),a.rangeCount||o.forEach(function(r){a.addRange(r)}),e&&e.focus()}},V=A,b={"text/plain":"Text","text/html":"Url",default:"Text"},I="Copy to clipboard: #{key}, Enter";function S(a){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return a.replace(/#{\s*key\s*}/g,e)}function T(a,e){var o,u,r,n,c,t,d=!1;e||(e={}),o=e.debug||!1;try{r=V(),n=document.createRange(),c=document.getSelection(),t=document.createElement("span"),t.textContent=a,t.ariaHidden="true",t.style.all="unset",t.style.position="fixed",t.style.top=0,t.style.clip="rect(0, 0, 0, 0)",t.style.whiteSpace="pre",t.style.webkitUserSelect="text",t.style.MozUserSelect="text",t.style.msUserSelect="text",t.style.userSelect="text",t.addEventListener("copy",function(l){if(l.stopPropagation(),e.format)if(l.preventDefault(),typeof l.clipboardData>"u"){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=b[e.format]||b.default;window.clipboardData.setData(s,a)}else l.clipboardData.clearData(),l.clipboardData.setData(e.format,a);e.onCopy&&(l.preventDefault(),e.onCopy(l.clipboardData))}),document.body.appendChild(t),n.selectNodeContents(t),c.addRange(n);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");d=!0}catch(l){o&&console.error("unable to copy using execCommand: ",l),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",a),e.onCopy&&e.onCopy(window.clipboardData),d=!0}catch(s){o&&console.error("unable to copy using clipboardData: ",s),o&&console.error("falling back to prompt"),u=S("message"in e?e.message:I),window.prompt(u,a)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(n):c.removeAllRanges()),t&&document.body.removeChild(t),r()}return d}var N=T;const B=y("p",{class:"w-43"},"输入英文转大写:",-1),M={style:{position:"relative"}},P=y("hr",null,null,-1),$={__name:"index",setup(a){let e=v(""),o=v("");C(()=>e.value,r=>{console.log("xxxxx"),o.value=r.toUpperCase()},{deep:!0});const u=async r=>{if(console.log("copyData",r),r===""){g.warning("请输入文本再复制");return}try{await N(r),g.success(`复制: ${r} 成功！`)}catch(n){g.warning(`复制失败: ${n} ！`),console.error(n)}};return(r,n)=>{const c=R,t=k,d=_("DocumentCopy"),f=U,l=D;return x(),E("div",null,[i(l,{gutter:20,class:"p-7"},{default:p(()=>[i(t,{span:6,style:{display:"flex"}},{default:p(()=>[B,i(c,{modelValue:m(e),"onUpdate:modelValue":n[0]||(n[0]=s=>w(e)?e.value=s:e=s)},null,8,["modelValue"])]),_:1}),i(t,{span:6},{default:p(()=>[h(" 结果: "),y("div",M,[i(c,{type:"textarea",modelValue:m(o),"onUpdate:modelValue":n[1]||(n[1]=s=>w(o)?o.value=s:o=s),autosize:{minRows:12,maxRows:16},readonly:""},null,8,["modelValue"]),i(f,{onClick:n[2]||(n[2]=s=>u(m(o))),style:{float:"right",position:"absolute",right:"10px",top:"10px"}},{default:p(()=>[i(d)]),_:1})])]),_:1})]),_:1}),P])}}};export{$ as default};
